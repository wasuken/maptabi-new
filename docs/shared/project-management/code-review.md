# コードレビュー

## 概要
品質向上とナレッジ共有を目的としたコードレビュープロセスです。

## レビュー方針

### 必須レビュー
- すべてのPRは最低1名のレビュー必須
- main/develop へのマージ前必須
- 外部ライブラリ追加時は2名以上

### レビュアー選定
- 関連領域の経験者
- フロントエンド/バックエンド専門家
- セキュリティ・パフォーマンス専門家

## レビュー観点

### 🔍 機能性
- [ ] 要求仕様を満たしているか
- [ ] エッジケースを考慮しているか
- [ ] エラーハンドリングが適切か

### 🏗 設計・アーキテクチャ
- [ ] 既存パターンに従っているか
- [ ] 適切な抽象化レベルか
- [ ] 依存関係が適切か

### 📊 パフォーマンス
- [ ] 無駄なループ・処理がないか
- [ ] メモリリークの可能性はないか
- [ ] データベースクエリは最適化されているか

### 🔒 セキュリティ
- [ ] 入力値検証は適切か
- [ ] 認証・認可が正しく実装されているか
- [ ] 機密情報の漏洩リスクはないか

### 🧪 テスタビリティ
- [ ] 単体テストが追加されているか
- [ ] テストしやすい構造になっているか
- [ ] モックが適切に使用されているか

### 📖 可読性・保守性
- [ ] 命名が適切か
- [ ] コメントが必要な箇所にあるか
- [ ] コードが簡潔で理解しやすいか

## レビューコメント例

### 承認
```
LGTM! 🎉
認証機能の実装、セキュリティ面も考慮されていて素晴らしいです。
```

### 修正要求
```
## パフォーマンス改善
L45-50のループ処理ですが、毎回API呼び出しが発生してます。
バッチ処理に変更できませんか？

## セキュリティ
L23でユーザー入力を直接SQLに渡してます。
プリペアードステートメントを使用してください。

## 可読性
関数名 `doStuff` が抽象的すぎます。
具体的な処理内容がわかる名前に変更をお願いします。
```

### 提案
```
## 提案 💡
この処理、カスタムフックに切り出すと再利用できそうです。
`useLocationSearch` みたいな感じでいかがでしょう？
```

## レビュー手順

### レビュアー側
1. **概要確認**: PR説明・関連Issueを読む
2. **変更確認**: 差分を把握
3. **ローカル確認**: 必要に応じてチェックアウト
4. **コメント**: 具体的・建設的なフィードバック
5. **承認/修正要求**: 明確な判断

### 作成者側
1. **自己レビュー**: PR作成前に差分確認
2. **説明記述**: 変更内容・理由を明記
3. **迅速対応**: コメントへの返答・修正
4. **解決確認**: 修正後にレビュアーに確認依頼

## レビュー基準

### 承認 (Approve)
- 機能が正常に動作する
- コーディング規約に準拠
- セキュリティ・パフォーマンス問題なし
- 適切なテストが含まれる

### 修正要求 (Request Changes)
- 機能に問題がある
- セキュリティリスクがある
- 重大なパフォーマンス問題
- 設計に大きな問題がある

### コメント (Comment)
- 軽微な改善提案
- 質問・確認事項
- 今後の改善アイデア

## レビュー時間目安

- **小規模変更** (～100行): 15分以内
- **中規模変更** (100-500行): 30分以内
- **大規模変更** (500行～): 1時間以内

## 自動チェック

### PR 作成時
- CI/CD パイプライン実行
- ESLint/Prettier チェック
- 単体テスト実行
- ビルド確認

### マージ前
- 全テストパス必須
- コンフリクト解決必須
- 最新develop同期必須
